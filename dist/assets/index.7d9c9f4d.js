var Se=Object.defineProperty;var Y=Object.getOwnPropertySymbols;var Ee=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable;var K=(r,o,s)=>o in r?Se(r,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[o]=s,_=(r,o)=>{for(var s in o||(o={}))Ee.call(o,s)&&K(r,s,o[s]);if(Y)for(var s of Y(o))Pe.call(o,s)&&K(r,s,o[s]);return r};import{j as q,O as J,a as Ae,r as l,u as H,b as ze,l as Q,m as j,A as B,N as V,L as F,c as je,d as M,B as Be,R as Le,e as z,f as _e,g as Me}from"./vendor.47edeaa8.js";const Re=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))c(n);new MutationObserver(n=>{for(const d of n)if(d.type==="childList")for(const a of d.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function s(n){const d={};return n.integrity&&(d.integrity=n.integrity),n.referrerpolicy&&(d.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?d.credentials="include":n.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function c(n){if(n.ep)return;n.ep=!0;const d=s(n);fetch(n.href,d)}};Re();const e=q.exports.jsx,t=q.exports.jsxs,P=q.exports.Fragment,$e=()=>e(P,{children:e("main",{className:"container mx-auto mt-5 md:mt-20 p-5 md:flex md:justify-center",children:e("div",{className:"md:w-2/3 lg:w-2/5",children:e(J,{})})})}),k=Ae.create({baseURL:"https://secret-spire-76538.herokuapp.com/api"}),X=l.exports.createContext(),Ie=({children:r})=>{const[o,s]=l.exports.useState({}),[c,n]=l.exports.useState(!0),d=H(),a=ze();l.exports.useEffect(()=>{(async()=>{const b=localStorage.getItem("token");if(!b){n(!1);return}const x={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${b}`}};try{const{data:v}=await k("/usuarios/perfil",x);s(v.usuario),a.pathname==="/"?d("/proyectos"):d(a.pathname)}catch(v){s({}),console.log(v)}n(!1)})()},[]);const h=()=>{s({})};return e(X.Provider,{value:{auth:o,cargando:c,setAuth:s,cerrarSesionAuth:h},children:r})},R=()=>l.exports.useContext(X),G=()=>e("div",{className:"border border-blue-300 shadow rounded-md p-4",children:t("div",{className:"animate-pulse flex space-x-4",children:[e("div",{className:"rounded-full bg-slate-700 h-10 w-10"}),t("div",{className:"flex-1 space-y-6 py-1",children:[e("div",{className:"h-2 bg-slate-700 rounded"}),t("div",{className:"space-y-3",children:[t("div",{className:"grid grid-cols-3 gap-4",children:[e("div",{className:"h-2 bg-slate-700 rounded col-span-2"}),e("div",{className:"h-2 bg-slate-700 rounded col-span-1"})]}),e("div",{className:"h-2 bg-slate-700 rounded"})]})]})]})});let D;const Z=l.exports.createContext(),De=({children:r})=>{const[o,s]=l.exports.useState([]),[c,n]=l.exports.useState({}),[d,a]=l.exports.useState({}),[h,g]=l.exports.useState(!1),[b,x]=l.exports.useState(!1),[v,f]=l.exports.useState({}),[y,T]=l.exports.useState(!1),[S,E]=l.exports.useState({}),[N,w]=l.exports.useState(!1),[C,ae]=l.exports.useState(!1),O=H();R(),l.exports.useEffect(()=>{W()},[]),l.exports.useEffect(()=>{D=Q("https://secret-spire-76538.herokuapp.com")},[]);const W=async()=>{const i=localStorage.getItem("token");if(!i)return;const m={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${i}`}};try{const{data:u}=await k("/proyectos",m);s(u.proyectos)}catch(u){console.log(u)}},re=i=>{a(i),setTimeout(()=>{a({})},3e3)},oe=async i=>{const m=localStorage.getItem("token");if(!m)return;const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};i.id?await ne(i,u):await se(i,u)},se=async(i,m)=>{try{const{data:u}=await k.post("/proyectos",i,m);s([...o,_({},u.proyecto)]),a({msg:"El proyecto se cre\xF3 correctamente ",error:!1}),setTimeout(()=>{a({}),O("/proyectos")},3e3)}catch(u){console.log(u)}},ne=async(i,m)=>{try{const{data:u}=await k.put(`/proyectos/${i.id}`,i,m),p=o.map($=>$._id===u.proyecto._id?u.proyecto:$);s(p),a({msg:"El proyecto se actualiz\xF3 correctamente",error:!1}),setTimeout(()=>{a({}),O("/proyectos")},3e3)}catch(u){console.log(u)}},le=async i=>{g(!0);const m=localStorage.getItem("token");if(!m){g(!1);return}const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};try{const{data:p}=await k(`/proyectos/${i}`,u);n(p.proyecto),a({})}catch(p){p.response&&a({msg:p.response.data.msg,error:!0}),O("/proyectos"),setTimeout(()=>{a({})},3e3)}finally{g(!1)}},ce=async i=>{const m=localStorage.getItem("token");if(!m)return;const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};i!=null&&i.id?await de(i,u):await ie(i,u)},ie=async(i,m)=>{try{const{data:u}=await k.post("/tareas",i,m);a({msg:"La tarea se cre\xF3 correctamente ",error:!1}),x(!1),D.emit("agregar tarea",u.tarea)}catch(u){u.response&&(a({msg:u.response.data.msg,error:!0}),x(!1))}finally{setTimeout(()=>{a({})},2e3)}},de=async(i,m)=>{try{const{data:u}=await k.put(`/tareas/${i.id}`,i,m);a({msg:"La tarea se actualiz\xF3 correctamente ",error:!1}),D.emit("actualizar tarea",u.tarea),x(!1),setTimeout(()=>{a({})},2e3)}catch(u){console.log(u)}},me=async i=>{const m=localStorage.getItem("token");if(!m)return;const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};try{const{data:p}=await k.delete(`/proyectos/${i}`,u),$=o.filter(U=>U._id!==i);s($),a({msg:p.msg,error:!1}),setTimeout(()=>{a({}),O("/proyectos")},3e3)}catch(p){console.log(p)}},ue=async i=>{const m=localStorage.getItem("token");if(!m)return;const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};try{const{data:p}=await k.post(`/tareas/estado/${i}`,{},u);a({msg:p.msg,error:!1}),D.emit("cambiar estado",p.tarea),f({}),setTimeout(()=>{a({}),x(!1)},2e3)}catch(p){p.response&&(a({msg:p.response.data.msg,error:!0}),setTimeout(()=>{a({})},3e3))}},pe=async i=>{const m=localStorage.getItem("token");if(!m)return;const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};try{const{data:p}=await k.delete(`/tareas/${i}`,u);a({msg:p.msg,error:!1}),T(!1),D.emit("eliminar tarea",v),f({}),setTimeout(()=>{a({})},3e3)}catch(p){console.log(p)}},he=async()=>{const i=localStorage.getItem("token");if(!i)return;const m={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${i}`}};try{const{data:u}=await k.post(`/proyectos/eliminar-colaborador/${c._id}`,{id:S._id},m);a({msg:u.msg,error:!1}),E({});const p=_({},c),$=p.colaboradores.filter(U=>U._id!==S._id);p.colaboradores=[...$],n(p),w(!1)}catch(u){u.response&&(a({msg:u.response.data.msg,error:!0}),w(!1))}finally{setTimeout(()=>{a({})},2e3)}},ge=async i=>{g(!0);const m=localStorage.getItem("token");if(!m)return;const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};try{const{data:p}=await k.post("/proyectos/colaboradores",{email:i},u);E(p.usuario),a({})}catch(p){p.response&&(a({msg:p.response.data.msg,error:!0}),setTimeout(()=>{a({})},3e3))}finally{g(!1)}},xe=async i=>{const m=localStorage.getItem("token");if(!m)return;const u={headers:{"Conten-Type":"application/json",Authorization:`Bearer ${m}`}};try{const{data:p}=await k.post(`/proyectos/colaboradores/${c._id}`,i,u);a({msg:p.msg,error:!1}),E({}),setTimeout(()=>{a({})},3e3)}catch(p){p.response&&(a({msg:p.response.data.msg,error:!0}),E({}),setTimeout(()=>{a({})},3e3))}},fe=()=>{x(!b),f({})},ye=i=>{f(i),x(!0)},be=i=>{f(i),T(!y)},ve=i=>{E(i),w(!N)},we=()=>{ae(!C)},Ne=i=>{const m=_({},c);m.tareas=[...m.tareas,i],n(m)},ke=i=>{const m=_({},c),u=m.tareas.filter(p=>p._id!==i._id);m.tareas=[...u],n(m)},Ce=i=>{const m=_({},c);m.tareas=m.tareas.map(u=>u._id===i._id?i:u),n(m)},Fe=i=>{const m=_({},c),u=m.tareas.map(p=>p._id===i._id?i:p);m.tareas=[...u],n(m)},Te=()=>{s([]),n({}),a({})};return e(Z.Provider,{value:{alerta:d,buscador:C,cargando:h,colaborador:S,modalEliminarTarea:y,modalFormularioTarea:b,modalEliminarColaborador:N,proyecto:c,proyectos:o,tarea:v,agregarColaborador:xe,completarTarea:ue,eliminarColaborador:he,eliminarProyecto:me,eliminarTarea:pe,handleModalBuscador:we,handleModalEliminarColaborador:ve,handleModalEditarTarea:ye,handleModalEliminarTarea:be,handleModalTarea:fe,monstrarAlerta:re,obtenerProyecto:le,obtenerProyectos:W,submitColaborador:ge,submitProyecto:oe,submitTarea:ce,submitTareasProyecto:Ne,eliminarTareaProyecto:ke,actualizarTareaProyecto:Ce,cambiarEstadoTareaProyecto:Fe,cerrarSesionProyectos:Te},children:r})},A=()=>l.exports.useContext(Z);function Oe(...r){return r.filter(Boolean).join(" ")}const Ve=()=>{const{buscador:r,handleModalBuscador:o,proyectos:s}=A(),[c,n]=l.exports.useState(""),d=c===""?[]:s.filter(a=>a.nombre.toLowerCase().includes(c.toLowerCase()));return e(j.Root,{show:r,as:l.exports.Fragment,afterLeave:()=>n(""),children:t(B,{as:"div",className:"fixed inset-0 z-10 overflow-y-auto mt-20 p-4 sm:p-20 md:p-20",onClose:o,children:[e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(B.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"})}),e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:t(V,{as:"div",className:"mx-auto max-w-xl transform divide-y divide-gray-100 overflow-hidden rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all",onChange:a=>window.location=`/proyectos/${a._id}`,children:[e("div",{className:"relative",children:e(V.Input,{className:"h-12 w-full border-0 bg-transparent pl-4 pr-4 text-gray-800 placeholder-gray-400 focus:ring-0 sm:text-sm",placeholder:"Buscar...",onChange:a=>n(a.target.value)})}),d.length>0&&e(V.Options,{static:!0,className:"max-h-72 scroll-py-2 overflow-y-auto py-2 text-sm text-gray-800",children:d.map(a=>e(V.Option,{value:a,className:({active:h})=>Oe("cursor-default select-none px-4 py-2",h&&"bg-sky-600 text-white"),children:a.nombre},a._id))})]})})]})})},Ue=()=>{const{buscador:r,handleModalBuscador:o,cerrarSesionProyectos:s}=A(),{cerrarSesionAuth:c}=R();return e("header",{className:"px-4 py-5 bg-white border-b",children:t("div",{className:"md:flex md:justify-between",children:[e(F,{to:"/proyectos",className:"text-4xl text-sky-600 font-black mb-5 md:mb-0",children:"UpTask"}),t("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[e("button",{type:"button",className:"font-bold uppercase",onClick:o,children:"Buscar Proyecto"}),e(F,{to:"/proyectos",className:"font-bold uppercase",children:"Proyectos"}),e("button",{type:"button",className:"text-white text-sm bg-sky-600 rounded-md p-3 uppercase font-bold",onClick:()=>{s(),c(),localStorage.removeItem("token")},children:"Cerrar sesi\xF3n"}),e(Ve,{})]})]})})},qe=()=>{const{auth:r}=R();return t("aside",{className:"md:w-1/3 lg:w-1/5 xl:w-1/6 px-5 py-10",children:[t("p",{className:"text-xl font-bold",children:["Hola: ",r.nombre]}),e(F,{to:"crear-proyecto",className:"bg-sky-600 w-full p-3 text-white uppercase font-bold block mt-5 text-center rounded-lg",children:"Nuevo Proyecto"})]})},He=()=>{const{auth:r,cargando:o}=R();return e(P,{children:r._id?t("div",{className:"bg-gray-100",children:[e(Ue,{}),t("div",{className:"md:flex md:min-h-screen",children:[e(qe,{}),e("main",{className:"flex-1 p-10",children:e(J,{})})]})]}):e(je,{to:"/"})})},L=({alerta:r})=>e("div",{className:`${r.error?"from-red-400 to-red-600":"from-sky-400 to-sky-600"} bg-gradient-to-br text-center p-3 rounded-xl uppercase text-white font-bold text-sm my-10`,children:r.msg}),Ge=()=>{const[r,o]=l.exports.useState(""),[s,c]=l.exports.useState(""),[n,d]=l.exports.useState({}),a=H(),{msg:h}=n,{setAuth:g}=R();return t(P,{children:[t("h1",{className:"text-sky-600 font-black text-6xl capitalize",children:["Inicia sesi\xF3n y administra tus "," ",e("span",{className:"text-slate-700",children:"proyectos"})]}),h&&e(L,{alerta:n}),t("form",{onSubmit:async x=>{if(x.preventDefault(),[r,s].includes("")){d({msg:"Los campos email y password obligatorios",error:!0});return}try{const{data:v}=await k.post("/usuarios/login",{email:r,password:s}),{ok:f,usuario:y}=v;o(""),c(""),d({}),localStorage.setItem("token",y.token),g(y),a("/proyectos")}catch(v){v.response&&d({msg:v.response.data.msg,error:!0})}},className:"my-10 bg-white shadow rounded-lg p-10",children:[t("div",{className:"my-5",children:[e("label",{htmlFor:"email",className:"uppercase text-gray-600 block text-xl font-bold",children:"Email"}),e("input",{id:"email",type:"email",placeholder:"Email de registro",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:r,onChange:x=>o(x.target.value)})]}),t("div",{className:"my-5",children:[e("label",{htmlFor:"password",className:"uppercase text-gray-600 block text-xl font-bold",children:"Password"}),e("input",{id:"password",type:"password",placeholder:"Contrase\xF1a",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:s,onChange:x=>c(x.target.value)})]}),e("input",{type:"submit",defaultValue:"Iniciar sesi\xF3n",className:"bg-sky-700 w-full py-3 mb-5 text-white uppercase font-bold rounded text-center hover:cursor-pointer hover:bg-sky-800 transition-colors"})]}),t("nav",{className:"lg:flex lg:justify-between",children:[e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/registrar",children:"\xBFNo tienes una cuenta? Reg\xEDstrate"}),e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/olvide-password",children:"Olvid\xE9 contrase\xF1a"})]})]})};function We(){const[r,o]=l.exports.useState(""),[s,c]=l.exports.useState(""),[n,d]=l.exports.useState(""),[a,h]=l.exports.useState(""),[g,b]=l.exports.useState({}),{msg:x}=g;return t(P,{children:[t("h1",{className:"text-sky-600 font-black text-6xl capitalize",children:["Registrate y crea tus "," ",e("span",{className:"text-slate-700",children:"proyectos"})]}),x&&e(L,{alerta:g}),t("form",{className:"my-10 bg-white shadow rounded-lg p-10",onSubmit:async f=>{if(f.preventDefault(),[r,s,n,a].includes("")){b({msg:"Todos los campos son obligatorios",error:!0});return}if(n!==a){b({msg:"Las contrase\xF1as no son iguales",error:!0});return}if(n.length<6){b({msg:"La contrase\xF1a debe tener minimo 6 car\xE1cteres",error:!0});return}b({});try{const{data:y}=await k.post("/usuarios",{nombre:r,email:s,password:n}),{ok:T,msg:S}=y;b({msg:S,error:!1}),o(""),c(""),d(""),h("")}catch(y){y.response&&b({msg:y.response.data.msg,error:!0})}},children:[t("div",{className:"my-5",children:[e("label",{htmlFor:"nombre",className:"uppercase text-gray-600 block text-xl font-bold",children:"Nombre"}),e("input",{id:"nombre",type:"text",placeholder:"Su nombre completo",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:r,onChange:f=>o(f.target.value)})]}),t("div",{className:"my-5",children:[e("label",{htmlFor:"email",className:"uppercase text-gray-600 block text-xl font-bold",children:"Email"}),e("input",{id:"email",type:"email",placeholder:"Email de registro",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:s,onChange:f=>c(f.target.value)})]}),t("div",{className:"my-5",children:[e("label",{htmlFor:"password",className:"uppercase text-gray-600 block text-xl font-bold",children:"Password"}),e("input",{id:"password",type:"password",placeholder:"Contrase\xF1a",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:n,onChange:f=>d(f.target.value)})]}),t("div",{className:"my-5",children:[e("label",{htmlFor:"password_confirmation",className:"uppercase text-gray-600 block text-xl font-bold",children:"Confirmar password"}),e("input",{id:"password_confirmation",type:"password",placeholder:"Confirmar contrase\xF1a",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:a,onChange:f=>h(f.target.value)})]}),e("input",{type:"submit",defaultValue:"Crear cuenta",className:"bg-sky-700 w-full py-3 mb-5 text-white uppercase font-bold rounded text-center hover:cursor-pointer hover:bg-sky-800 transition-colors"})]}),t("nav",{className:"lg:flex lg:justify-between",children:[e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/",children:"\xBFYa tienes una cuenta? Inicia sesi\xF3n"}),e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/olvide-password",children:"Olvid\xE9 contrase\xF1a"})]})]})}const Ye=()=>{const[r,o]=l.exports.useState({}),[s,c]=l.exports.useState(!1),[n,d]=l.exports.useState(""),[a,h]=l.exports.useState(!1),g=M(),{token:b}=g,{msg:x}=r;return l.exports.useEffect(()=>{(async()=>{try{await k(`/usuarios/olvide-password/${b}`),c(!0)}catch(y){y.response&&o({msg:y.response.data.msg,error:!0})}})()},[]),t(P,{children:[t("h1",{className:"text-sky-600 font-black text-6xl capitalize",children:["Reestablece tu password y accede a tus"," ",e("span",{className:"text-slate-700",children:"proyectos"})]}),x&&e(L,{alerta:r}),s&&t("form",{onSubmit:async f=>{if(f.preventDefault(),n.length<6){o({msg:"El campo password es obligatorio y minimo 6 car\xE1cteres",error:!0});return}try{const{data:y}=await k.post(`/usuarios/olvide-password/${b}`,{password:n});o({msg:y.msg,error:!1}),d(""),h(!0)}catch(y){y.response&&(o({msg:y.response.data.msg,error:!0}),d(""))}},className:"my-10 bg-white shadow rounded-lg p-10",children:[t("div",{className:"my-5",children:[e("label",{htmlFor:"password",className:"uppercase text-gray-600 block text-xl font-bold",children:"Nuevo Password"}),e("input",{id:"password",type:"password",placeholder:"Escribe tu nueva contrase\xF1a",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:n,onChange:f=>d(f.target.value)})]}),e("input",{type:"submit",value:"Guardar nuevo password",className:"bg-sky-700 w-full py-3 mb-5 text-white uppercase font-bold rounded text-center hover:cursor-pointer hover:bg-sky-800 transition-colors"})]}),a&&e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/",children:"Contrase\xF1a cambiada, Inicia sesi\xF3n"}),(!a||!s)&&e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/",children:"Regresar"})]})},Ke=()=>{const[r,o]=l.exports.useState(""),[s,c]=l.exports.useState({}),{msg:n}=s;return t(P,{children:[t("h1",{className:"text-sky-600 font-black text-6xl capitalize",children:["Recupera tu "," ",e("span",{className:"text-slate-700",children:"acceso"})]}),n&&e(L,{alerta:s}),t("form",{className:"my-10 bg-white shadow rounded-lg p-10",onSubmit:async a=>{if(a.preventDefault(),r===""||r.length<6){c({msg:"El campo email es obligatorio",error:!0});return}try{const{data:h}=await k.post("/usuarios/olvide-password",{email:r});c({msg:h.msg,error:!1}),o("")}catch(h){h.response&&(c({msg:h.response.data.msg,error:!0}),o(""))}},children:[t("div",{className:"my-5",children:[e("label",{htmlFor:"email",className:"uppercase text-gray-600 block text-xl font-bold",children:"Email"}),e("input",{id:"email",type:"email",placeholder:"Email de registro",className:"w-full mt-3 p-3 border rounded-lg bg-gray-50",value:r,onChange:a=>o(a.target.value)})]}),e("input",{type:"submit",defaultValue:"Enviar instrucciones",className:"bg-sky-700 w-full py-3 mb-5 text-white uppercase font-bold rounded text-center hover:cursor-pointer hover:bg-sky-800 transition-colors"})]}),t("nav",{className:"lg:flex lg:justify-between",children:[e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/",children:"\xBFYa tienes una cuenta? Inicia sesi\xF3n"}),e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/registrar",children:"\xBFNo tienes una cuenta? Reg\xEDstrate"})]})]})},Je=()=>{const[r,o]=l.exports.useState({}),[s,c]=l.exports.useState(!1),n=M(),{id:d}=n;l.exports.useEffect(()=>{(async()=>{try{const{data:g}=await k(`/usuarios/confirmar/${d}`);o({msg:g.msg,error:!1}),c(!0)}catch(g){g.response&&o({msg:g.response.data.msg,error:!0})}})()},[]);const{msg:a}=r;return t(P,{children:[t("h1",{className:"text-sky-600 font-black text-6xl capitalize",children:["Confirma tu cuenta y comienza a crear tus"," ",e("span",{className:"text-slate-700",children:"proyectos"})]}),t("div",{className:"mt-20 md:mt-5 shadow-lg px-5 py-10 rounded-xl bg-white",children:[a&&e(L,{alerta:r}),s&&e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/",children:"Cuenta confirmada, Inicia sesi\xF3n"}),!s&&e(F,{className:"block text-center my-5 text-slate-500 uppercase text-sm",to:"/registrar",children:"\xBFNo tienes una cuenta? Reg\xEDstrate"})]})]})},Qe=({proyecto:r})=>{const{auth:o}=R(),{nombre:s,_id:c,cliente:n,creador:d}=r;return t("div",{className:"border-b p-5 flex flex-col md:flex-row justify-between",children:[t("div",{className:"flex items-center gap-2",children:[t("p",{className:"flex-1",children:[s,t("span",{className:"text-sm text-gray-500 uppercase",children:[" "," ",n]})]}),o._id!==d&&e("p",{className:"p-1 text-xs rounded-lg text-white bg-green-500 font-bold uppercase",children:" Colaborador"})]}),e(F,{to:`${c}`,className:"text-gray-600 hover:text-gray-800 uppercase text-sm font-bold",children:" Ver proyecto"})]})},Xe=()=>{const{proyectos:r,obtenerProyectos:o,alerta:s}=A(),{msg:c}=s;return l.exports.useEffect(()=>{o()},[]),t(P,{children:[e("h1",{className:"text-4xl font-black",children:"Proyectos"}),c&&e(L,{alerta:s}),e("div",{className:"bg-white shadow mt-10 rounded-lg",children:r.length?r.map(n=>e(Qe,{proyecto:n},n._id)):e("p",{className:"text-center text-gray-600 uppercase p-5",children:"No hay proyectos aun"})})]})},ee=()=>{const[r,o]=l.exports.useState(null),[s,c]=l.exports.useState(""),[n,d]=l.exports.useState(""),[a,h]=l.exports.useState(""),[g,b]=l.exports.useState(""),{monstrarAlerta:x,alerta:v,submitProyecto:f,proyecto:y}=A(),T=M(),{msg:S}=v;return l.exports.useEffect(()=>{var N;T.id&&(o(y._id),c(y.nombre),d(y.descripcion),h((N=y.fechaEntrega)==null?void 0:N.split("T")[0]),b(y.cliente))},[T]),t("form",{onSubmit:async N=>{if(N.preventDefault(),[s,n,a,g].includes("")){x({msg:"Todos los campos son obligatorios",error:!0});return}await f({id:r,nombre:s,descripcion:n,fechaEntrega:a,cliente:g}),o(null),c(""),d(""),h(""),b("")},className:"bg-white py-10 px-5 md:w-1/2 rounded-lg shadow",children:[S&&e(L,{alerta:v}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"nombre",className:"text-gray-600 uppercase font-bold text-sm",children:"Nombre Proyecto"}),e("input",{id:"nombre",type:"text",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",placeholder:"Nombre del proyecto",value:s,onChange:N=>c(N.target.value)})]}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"descripcion",className:"text-gray-600 uppercase font-bold text-sm",children:"Descripci\xF3n Proyecto"}),e("textarea",{id:"descripcion",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",placeholder:"Descripci\xF3n del proyecto",value:n,onChange:N=>d(N.target.value)})]}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"fecha-entrega",className:"text-gray-600 uppercase font-bold text-sm",children:"Fecha de entrega"}),e("input",{id:"fecha-entrega",type:"date",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",value:a,onChange:N=>h(N.target.value)})]}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"nombre-cliente",className:"text-gray-600 uppercase font-bold text-sm",children:"Nombre cliente"}),e("input",{id:"nombre-cliente",type:"text",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",placeholder:"Nombre del cliente",value:g,onChange:N=>b(N.target.value)})]}),e("input",{type:"submit",value:r?"Actualizar proyecto":"Crear proyecto",className:"bg-sky-600 w-full p-3 mb-5 uppercase font-bold text-white rounded cursor-pointer hover:bg-sky-700 transition-colors hover:cursor-pointer "})]})},Ze=()=>t(P,{children:[e("h1",{className:"text-4xl font-black",children:"Crear proyecto"}),e("div",{className:"mt-10 flex justify-center",children:e(ee,{})})]}),et=()=>{const[r,o]=l.exports.useState(""),{monstrarAlerta:s,alerta:c,submitColaborador:n,colaborador:d}=A(),{msg:a}=c;return e(P,{children:t("form",{onSubmit:async g=>{if(g.preventDefault(),[r].includes("")){s({msg:"El campo email es obligatorio",error:!0});return}await n(r)},className:"bg-white py-10 px-5 w-full md:w-1/2 rounded-lg shadow",children:[a&&e(L,{alerta:c}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"email-colaborador",className:"text-gray-600 uppercase font-bold text-sm",children:"Email colaborador"}),e("input",{id:"email-colaborador",type:"email",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",placeholder:"Email del usuario",value:r,onChange:g=>o(g.target.value)})]}),e("input",{type:"submit",value:"Buscar colaborador",className:"bg-sky-600 w-full p-3 mb-5 uppercase font-bold text-white rounded cursor-pointer hover:bg-sky-700 transition-colors hover:cursor-pointer "})]})})},tt=()=>{const r=M(),{monstrarAlerta:o,alerta:s,obtenerProyecto:c,proyecto:n,cargando:d,colaborador:a,agregarColaborador:h}=A(),{id:g}=r;return l.exports.useEffect(()=>{c(g)},[]),n!=null&&n._id?d?e(G,{}):t(P,{children:[t("h1",{className:"text-4xl font-black",children:["A\xF1adir colaborador(a) al proyecto: ",n==null?void 0:n.nombre]}),e("div",{className:"mt-10 flex justify-center",children:e(et,{})}),d?"Cargando":(a==null?void 0:a._id)&&e("div",{className:"flex justify-center mt-10",children:t("div",{className:"bg-white py-10 px-5 md:w-1/2 rounded-lg shadow w-full",children:[e("h2",{className:"text-center mb-10 text-2xl font-bold",children:"Resultado:"}),t("div",{className:" flex justify-between items-center",children:[e("p",{children:a.nombre}),e("button",{className:"bg-slate-500 px-5 py-2 rounded-lg uppercase text-white font-bold text-sm",onClick:()=>h({email:a.email}),children:"Agregar al proyecto"})]})]})})]}):e(L,{alerta:s})},te=()=>{const{proyecto:r}=A(),{auth:o}=R();return r.creador===o._id},at=["Baja","Media","Alta"],rt=()=>{const r=M(),{modalFormularioTarea:o,alerta:s,handleModalTarea:c,monstrarAlerta:n,submitTarea:d,tarea:a}=A(),[h,g]=l.exports.useState(null),[b,x]=l.exports.useState(""),[v,f]=l.exports.useState(""),[y,T]=l.exports.useState(""),[S,E]=l.exports.useState(""),{msg:N}=s;l.exports.useEffect(()=>{var C;a!=null&&a._id?(g(a._id),x(a.nombre),f(a.descripcion),T(a.prioridad),E((C=a.fechaEntrega)==null?void 0:C.split("T")[0])):(g(null),x(""),f(""),T(""),E(""))},[a]);const w=async C=>{if(C.preventDefault(),[b,v,S,y].includes("")){n({msg:"Todos los campos son obligatorios",error:!0}),console.log("aqui llego");return}await d({id:h,nombre:b,descripcion:v,fechaEntrega:S,prioridad:y,proyecto:r.id}),x(""),f(""),E(""),T("")};return e(j.Root,{show:o,as:l.exports.Fragment,children:e(B,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:c,children:t("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(B.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200B"}),e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:t("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:t("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:c,children:[e("span",{className:"sr-only",children:"Cerrar"}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]})}),e("div",{className:"sm:flex sm:items-start",children:t("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[e(B.Title,{as:"h3",className:"text-lg leading-6 font-bold text-gray-900",children:h?"Editar tarea":"Nueva tarea"}),N&&e(L,{alerta:s}),t("form",{onSubmit:w,className:"my-10",children:[t("div",{className:"mb-5",children:[e("label",{htmlFor:"nombre",className:"text-gray-700 uppercase font-bold text-sm",children:"Nombre Tarea"}),e("input",{id:"nombre",type:"text",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",placeholder:"Nombre de la tarea",value:b,onChange:C=>x(C.target.value)})]}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"descripcion",className:"text-gray-700 uppercase font-bold text-sm",children:"Descripci\xF3n Tarea"}),e("textarea",{id:"descripcion",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",placeholder:"Descripci\xF3n de la tarea",value:v,onChange:C=>f(C.target.value)})]}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"fecha-entrega",className:"text-gray-600 uppercase font-bold text-sm",children:"Fecha de entrega"}),e("input",{id:"fecha-entrega",type:"date",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",value:S,onChange:C=>E(C.target.value)})]}),t("div",{className:"mb-5",children:[e("label",{htmlFor:"prioridad",className:"text-gray-700 uppercase font-bold text-sm",children:"Prioridad Tarea"}),t("select",{id:"prioridad",className:"border w-full p-2 mt-2 placeholder-gray-400 rounded-md",value:y,onChange:C=>T(C.target.value),children:[e("option",{value:"",children:"--Seleccionar--"}),at.map(C=>e("option",{children:C},C))]})]}),e("input",{type:"submit",value:h?"Guardar cambios":"Guardar tarea",className:"bg-sky-600 w-full p-3 uppercase font-bold text-white rounded cursor-pointer hover:bg-sky-700 transition-colors hover:cursor-pointer text-sm"})]})]})})]})})]})})})},ot=()=>{const{modalEliminarTarea:r,handleModalEliminarTarea:o,eliminarTarea:s,tarea:c}=A();return e(j.Root,{show:r,as:l.exports.Fragment,children:e(B,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:o,children:t("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(B.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200B"}),e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:t("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:t("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:o,children:[e("span",{className:"sr-only",children:"Cerrar"}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]})}),t("div",{className:"sm:flex sm:items-start",children:[e("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),t("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[t(B.Title,{as:"h3",className:"text-lg leading-6 font-bold text-gray-900",children:["Eliminar tarea: ",c.nombre]}),e("div",{className:"mt-2",children:e("p",{className:"text-sm text-gray-500",children:"Una tarea eliminada no se podr\xE1 recuperar"})}),t("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[e("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>s(c._id),children:"Eliminar"}),e("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:o,children:" Cancelar"})]})]})]})]})})]})})})},st=()=>{const{handleModalEliminarColaborador:r,modalEliminarColaborador:o,eliminarColaborador:s,colaborador:c}=A();return e(j.Root,{show:o,as:l.exports.Fragment,children:e(B,{as:"div",className:"fixed z-10 inset-0 overflow-y-auto",onClose:r,children:t("div",{className:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e(B.Overlay,{className:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"})}),e("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true",children:"\u200B"}),e(j.Child,{as:l.exports.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",children:t("div",{className:"inline-block align-bottom bg-white rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6",children:[e("div",{className:"hidden sm:block absolute top-0 right-0 pt-4 pr-4",children:t("button",{type:"button",className:"bg-white rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",onClick:r,children:[e("span",{className:"sr-only",children:"Cerrar"}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})]})}),t("div",{className:"sm:flex sm:items-start",children:[e("div",{className:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 text-red-600",viewBox:"0 0 20 20",fill:"currentColor",children:e("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),t("div",{className:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left w-full",children:[t(B.Title,{as:"h3",className:"text-lg leading-6 font-bold text-gray-900",children:["Eliminar colaborador: ",c.nombre]}),e("div",{className:"mt-2",children:e("p",{className:"text-sm text-gray-500",children:"Una colaborador eliminado no se podr\xE1 recuperar"})}),t("div",{className:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse",children:[e("button",{type:"button",className:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm",onClick:()=>s(),children:"Eliminar"}),e("button",{type:"button",className:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm",onClick:r,children:" Cancelar"})]})]})]})]})})]})})})},nt=r=>{const o=new Date(r.split("T")[0].split("-")),s={weekday:"long",year:"numeric",month:"long",day:"numeric"};return o.toLocaleDateString("es-ES",s)},lt=({tarea:r})=>{const{nombre:o,descripcion:s,fechaEntrega:c,prioridad:n,estado:d,_id:a}=r,{handleModalEditarTarea:h,handleModalEliminarTarea:g,completarTarea:b}=A(),x=te();return t("div",{className:"border-b p-5 flex justify-between items-center",children:[t("div",{className:"flex flex-col items-start",children:[e("p",{className:"mb-1 text-xl",children:o}),e("p",{className:"mb-1 text-sm text-gray-500 uppercase",children:s}),e("p",{className:"mb-1 text-sm",children:nt(c)}),t("p",{className:"mb-1 text-gray-600",children:[" Prioridad: ",n]}),d&&t("p",{className:"text-xs bg-green-600 uppercase p-1 rounded-lg text-white",children:["Completada por: ",r.completado.nombre," "]})]}),t("div",{className:"flex flex-col lg:flex-row gap-2",children:[x&&e("button",{className:"bg-indigo-600 px-4 py-3 text-white uppercase font-bold text-sm rounded-lg",onClick:()=>h(r),children:"Editar"}),e("button",{className:`${d?"bg-sky-600 ":"bg-gray-600"} px-4 py-3 text-white uppercase font-bold text-sm rounded-lg`,onClick:()=>b(a),children:d?"Completa":"Incompleta"}),x&&e("button",{className:"bg-red-600 px-4 py-3 text-white uppercase font-bold text-sm rounded-lg",onClick:()=>g(r),children:"Eliminar"})]})]})},ct=({colaborador:r})=>{const{nombre:o,email:s,_id:c}=r,{handleModalEditarTarea:n,handleModalEliminarColaborador:d}=A();return t("div",{className:"border-b p-5 flex justify-between items-center",children:[t("div",{children:[e("p",{className:"mb-1 text-xl",children:o}),e("p",{className:"mb-1 text-sm text-gray-500",children:s})]}),e("div",{className:"flex gap-2",children:e("button",{className:"bg-red-600 px-4 py-3 text-white uppercase font-bold text-sm rounded-lg",onClick:()=>d(r),children:"Eliminar"})})]})};let I;function it(){var T,S,E,N;const r=M(),o=te(),{obtenerProyecto:s,proyecto:c,cargando:n,handleModalTarea:d,alerta:a,submitTareasProyecto:h,eliminarTareaProyecto:g,actualizarTareaProyecto:b,cambiarEstadoTareaProyecto:x}=A(),{id:v}=r,{nombre:f,_id:y}=c;return l.exports.useEffect(()=>{s(v)},[]),l.exports.useEffect(()=>{I=Q("https://secret-spire-76538.herokuapp.com"),I.emit("abrir proyecto",r.id)},[]),l.exports.useEffect(()=>{I.on("tarea agregada",w=>{w.proyecto===c._id&&h(w)}),I.on("tarea eliminada",w=>{w.proyecto===c._id&&g(w)}),I.on("tarea actualizada",w=>{w.proyecto._id===c._id&&b(w)}),I.on("estado cambiado",w=>{w.proyecto._id===c._id&&x(w)})}),n?e(G,{}):t(P,{children:[t("div",{className:"flex justify-between",children:[e("h1",{className:"font-black text-4xl",children:f}),o&&t("div",{className:"flex items-center gap-2 text-gray-400 hover:text-black",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),e(F,{to:`/proyectos/editar/${v}`,className:"uppercase font-bold",children:"Editar"})]})]}),o&&t("button",{onClick:d,type:"button",className:"text-sm px-5 py-3 w-full md:w-auto rounded-lg uppercase font-bold bg-sky-400 text-white text-center mt-5 flex gap-2 items-center justify-center",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Nueva tarea"]}),e("p",{className:"font-bold text-xl mt-10",children:"Tareas del proyecto"}),e("div",{className:"flex justify-center"}),e("div",{className:"bg-white shadow mt-10 rounded",children:(T=c.tareas)!=null&&T.length?(S=c.tareas)==null?void 0:S.map(w=>e(lt,{tarea:w},w._id)):e("p",{className:"text-center my-5 p-10",children:"No hay tareas en este proyecto"})}),o&&t(P,{children:[t("div",{className:"flex items-center justify-between",children:[e("p",{className:"font-bold text-xl mt-10",children:"Colaboradores"}),e(F,{to:`/proyectos/nuevo-colaborador/${y}`,className:"text-gray-400 hover:text-black uppercase font-bold",children:"A\xF1adir"})]}),e("div",{className:"bg-white shadow mt-10 rounded",children:(E=c.colaboradores)!=null&&E.length?(N=c.colaboradores)==null?void 0:N.map(w=>e(ct,{colaborador:w},w._id)):e("p",{className:"text-center my-5 p-10",children:"No hay colaboradores en este proyecto"})})]}),e(rt,{}),e(ot,{}),e(st,{})]})}const dt=()=>{const r=M(),{obtenerProyecto:o,proyecto:s,cargando:c,eliminarProyecto:n}=A(),{id:d}=r,{nombre:a}=s;l.exports.useEffect(()=>{o(d)},[]);const h=async()=>{confirm("\xBFDesea eliminar este proyecto?")&&await n(r.id)};return c?e(G,{}):t(P,{children:[t("div",{className:"flex justify-between",children:[t("h1",{className:"font-black text-2xl",children:["Editar Proyecto: ",a]}),t("div",{className:"flex items-center gap-2 text-gray-400 hover:text-black",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),e("button",{className:"uppercase font-bold",onClick:h,children:"Eliminar"})]})]}),e("div",{className:"mt-10 flex justify-center",children:e(ee,{})})]})};function mt(){return e(Be,{children:e(Ie,{children:e(De,{children:t(Le,{children:[t(z,{path:"/",element:e($e,{}),children:[e(z,{index:!0,element:e(Ge,{})}),e(z,{path:"registrar",element:e(We,{})}),e(z,{path:"olvide-password",element:e(Ke,{})}),e(z,{path:"olvide-password/:token",element:e(Ye,{})}),e(z,{path:"confirmar/:id",element:e(Je,{})})]}),t(z,{path:"/proyectos",element:e(He,{}),children:[e(z,{index:!0,element:e(Xe,{})}),e(z,{path:"crear-proyecto",element:e(Ze,{})}),e(z,{path:"nuevo-colaborador/:id",element:e(tt,{})}),e(z,{path:":id",element:e(it,{})}),e(z,{path:"editar/:id",element:e(dt,{})})]})]})})})})}_e.render(e(Me.StrictMode,{children:e(mt,{})}),document.getElementById("root"));
